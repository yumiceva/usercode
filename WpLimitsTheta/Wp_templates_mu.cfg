
ttbar-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_ttbar"; zerobin_fillfactor=0.0001;use_errors = true;};
singletop-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_ST"; zerobin_fillfactor=0.0001;use_errors = true;};
wlight-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WJets"; zerobin_fillfactor=0.0001;use_errors = true;};
zlight-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_ZJets"; zerobin_fillfactor=0.0001;use_errors = true;};
/* muqcd-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_dataQCD2"; zerobin_fillfactor=0.0001;use_errors = true;}; */
WW-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_Dibosons"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime800-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH800"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime900-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH900"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1000-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH1000"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1100-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH1100"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1200-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH1200"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1300-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH1300"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1400-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH1400"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1500-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH1500"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1600-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH1600"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime2000-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_WpRH2000"; zerobin_fillfactor=0.0001;use_errors = true;};

data-mu0t-nominal = { type = "root_histogram"; filename = "templates.root";  histoname = "Wprime_1btag_data"; zerobin_fillfactor=0.0001;use_errors = true;};

ttbar-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_ttbar"; zerobin_fillfactor=0.0001;use_errors = true;};
singletop-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_ST"; zerobin_fillfactor=0.0001;use_errors = true;};
wlight-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WJets"; zerobin_fillfactor=0.0001;use_errors = true;};
zlight-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_ZJets"; zerobin_fillfactor=0.0001;use_errors = true;};
WW-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_Dibosons"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime800-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH800"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime900-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH900"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1000-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH1000"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1100-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH1100"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1200-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH1200"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1300-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH1300"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1400-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH1400"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1500-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH1500"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1600-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH1600"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime2000-mu0t-btag-up = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systUp_WpRH2000"; zerobin_fillfactor=0.0001;use_errors = true;};

ttbar-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_ttbar"; zerobin_fillfactor=0.0001;use_errors = true;};
singletop-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_ST"; zerobin_fillfactor=0.0001;use_errors = true;};
wlight-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WJets"; zerobin_fillfactor=0.0001;use_errors = true;};
zlight-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_ZJets"; zerobin_fillfactor=0.0001;use_errors = true;};
WW-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_Dibosons"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime800-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH800"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime900-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH900"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1000-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH1000"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1100-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH1100"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1200-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH1200"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1300-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH1300"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1400-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH1400"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1500-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH1500"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1600-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH1600"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime2000-mu0t-btag-down = { type = "root_histogram"; filename = "templates_btag_syst.root";  histoname = "Wprime_1btag_systDown_WpRH2000"; zerobin_fillfactor=0.0001;use_errors = true;};

ttbar-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_ttbarJECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
singletop-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_STJECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wlight-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WJetsJECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
zlight-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_ZJetsJECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
WW-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_DibosonsJECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime800-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH800JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime900-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH900JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1000-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH1000JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1100-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH1100JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1200-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH1200JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1300-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH1300JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1400-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH1400JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1500-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH1500JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1600-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH1600JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime2000-mu0t-jes-up = { type = "root_histogram"; filename = "templates_jes_up.root";  histoname = "Wprime_1btag_WpRH2000JECUP"; zerobin_fillfactor=0.0001;use_errors = true;};

ttbar-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_ttbarJECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
singletop-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_STJECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wlight-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WJetsJECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
zlight-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_ZJetsJECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
WW-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_DibosonsJECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime800-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH800JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime900-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH900JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1000-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH1000JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1100-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH1100JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1200-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH1200JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1300-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH1300JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1400-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH1400JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1500-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH1500JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime1600-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH1600JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};
wprime2000-mu0t-jes-down = { type = "root_histogram"; filename = "templates_jes_down.root";  histoname = "Wprime_1btag_WpRH2000JECDOWN"; zerobin_fillfactor=0.0001;use_errors = true;};

wprime-model = {
    mass-mu0t = {
        ttbar = {
            coefficient-function = { type = "mult"; parameters = ("beta_ttbar", "luminosity","muon_eff"); };
            histogram = {
               type = "cubiclinear_histomorph";
               parameters = ("delta_btag","delta_JES");
               nominal-histogram = "@ttbar-mu0t-nominal";
               delta_btag-plus-histogram = "@ttbar-mu0t-btag-up";
               delta_btag-minus-histogram = "@ttbar-mu0t-btag-down";
               delta_JES-plus-histogram = "@ttbar-mu0t-jes-up";
               delta_JES-minus-histogram = "@ttbar-mu0t-jes-down";
            };
        };
        
        singletop = {
            coefficient-function = { type = "mult"; parameters = ("beta_singletop", "luminosity","muon_eff"); };
            histogram = {
               type = "cubiclinear_histomorph";
               parameters = ("delta_btag","delta_JES");
               nominal-histogram = "@singletop-mu0t-nominal";
               delta_btag-plus-histogram = "@singletop-mu0t-btag-up";
               delta_btag-minus-histogram = "@singletop-mu0t-btag-down";
               delta_JES-plus-histogram = "@singletop-mu0t-jes-up";
               delta_JES-minus-histogram = "@singletop-mu0t-jes-down";
            };
        };
        
       wlight = {
            coefficient-function = {type = "mult"; parameters = ("beta_wjets", "luminosity","muon_eff"); };
            histogram = {
               type = "cubiclinear_histomorph";
               parameters = ("delta_btag","delta_JES");
               nominal-histogram = "@wlight-mu0t-nominal";
               delta_btag-plus-histogram = "@wlight-mu0t-btag-up";
               delta_btag-minus-histogram = "@wlight-mu0t-btag-down";
               delta_JES-plus-histogram = "@wlight-mu0t-jes-up";
               delta_JES-minus-histogram = "@wlight-mu0t-jes-down";
            };
        };
        
        zlight = {
            coefficient-function = {type = "mult"; parameters = ("beta_wjets","beta_zjets", "luminosity","muon_eff"); };
            histogram = {
               type = "cubiclinear_histomorph";
               parameters = ("delta_btag","delta_JES");
               nominal-histogram = "@zlight-mu0t-nominal";
               delta_btag-plus-histogram = "@zlight-mu0t-btag-up";
               delta_btag-minus-histogram = "@zlight-mu0t-btag-down";
               delta_JES-plus-histogram = "@zlight-mu0t-jes-up";
               delta_JES-minus-histogram = "@zlight-mu0t-jes-down";
            }; 
        };
        /*QCD = {
            coefficient-function = {type = "mult"; parameters = ("beta_muqcd","luminosity","muon_eff"); };
            histogram = "@muqcd-mu0t-nominal";
        };*/
	WW = {
            coefficient-function = {type = "mult"; parameters = ("beta_ww","luminosity","muon_eff"); };
            histogram = {
               type = "cubiclinear_histomorph";
               parameters = ("delta_btag","delta_JES");
               nominal-histogram = "@WW-mu0t-nominal";
               delta_btag-plus-histogram = "@WW-mu0t-btag-up";
               delta_btag-minus-histogram = "@WW-mu0t-btag-down";
               delta_JES-plus-histogram = "@WW-mu0t-jes-up";
               delta_JES-minus-histogram = "@WW-mu0t-jes-down";
            };
        };        
        zprime1000 = {
            coefficient-function = {type = "mult"; parameters = ("signalStrength", "luminosity","muon_eff"); };
            histogram = {
               type = "cubiclinear_histomorph";
               parameters = ("delta_btag","delta_JES");
               nominal-histogram = "@wprime800-mu0t-nominal";
               delta_btag-plus-histogram = "@wprime800-mu0t-btag-up";
               delta_btag-minus-histogram = "@wprime800-mu0t-btag-down";
               delta_JES-plus-histogram = "@wprime800-mu0t-jes-up";
               delta_JES-minus-histogram = "@wprime800-mu0t-jes-down";
            };
        };
    };

    /* configure here the distributions used in the *fit*(!) */
    parameter-distribution = {
        type ="product_distribution";
        distributions =("@muon_eff-gauss","@beta_ttbar-gauss", "@beta_wjets-lognormal", "@beta_zjets-gauss", "@beta_ww-gauss", "@beta_singletop-gauss", "@signalStrength-flat", "@luminosity-gauss","@delta_btag-gauss","@delta_JES-gauss");
    };
};

